[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "A Brief Primer for ArcGIS",
    "section": "",
    "text": "Answering spatial questions in ArcGIS\nIn addition to mapmaking, GIS is a powerful tool for answering spatial questions. This often considering how the location of features relates to their attributes (e.g., where maple yield is highest within a stand of trees), or how the spatial relationships between features, like distance or proximity, varies over space (e.g, how many maple trees are within 50 feet of another). This lab will focus on GIS operations that select subsets of features based on their attributes or their relationships with other features.",
    "crumbs": [
      "Answering spatial questions in ArcGIS"
    ]
  },
  {
    "objectID": "workingWithAttributes.html",
    "href": "workingWithAttributes.html",
    "title": "1  Asking questions with attributes",
    "section": "",
    "text": "Some questions we might want to answer have to do with where particular features, or features with particular attributes, occur. For example, we may want to know where the most energy-hungry buildings are in a city, or where threatened insect species have been seen in a state park. This involves subsetting, a process of selecting a smaller set from a larger dataset based on given criteria. Here, we’ll learn how to do this kind of task by using a feature’s attribute table.\n\nAttribute queries\nA query is a statement used to extract a subset of records or features from a dataset using one or more conditions. These can be used to answer questions in ArcGIS data by selecting which features meet the conditions and which do not. Selected data are highlighted in cyan (light blue). Here we will go through several different queries using a familiar dataset.\n\nAdd the quakes dataset from the Lab2.gdb geodatabase.\nRight click on quakes in the Table of Contents to open the attribute table.\nClick on the Select By Attributes button.  The following window should come up:\n\n\n\n\n\n\n\nWe saw this window in Lab 1, this allows us to query the dataset based on its attributes, which are listed in the pane at the top. The pane that starts with Where is used to construct a conditional statement with these attributes. For example, if we wanted to know which earthquakes occurred at a depth of more than 100 kms, we can enter depth, then is greater than, then enter the number 100.\nClick Apply. The map should now look like this:\n\n\n\n\n\n\n\nGo back to the bottom pane and change the formula so that it’s asking for depth greater than 10. Click Apply. Now the map looks like this:\n\n\n\n\n\n\n\nWe can see this selection in the attribute table as well. Open the attribute table of the quakes layer. It should show the selected quakes highlighted in cyan:\n\n\n\nNotice that at the bottom of the window we can also see the number of earthquakes in the selection (374) out of the total number of earthquakes.\nIf we only want to see the selected features, click the Show selected records  button at the bottom of the window. This hides any layers that are not selected:\n\n\n\n\n\n\n\nTo get the unselected records back, click the Show all records  button.\nLet’s say instead of looking at the quakes deeper than 10 kms, we want quakes deeper than 50 kms. We can change our query by clicking the Select By Attributes button again. Change it to depth, is greater than, 50.\nNow let’s say we’d like to know which quakes are less than 50 kms deep. We can get this quickly clicking the Switch Selection button:\n\n\n\n\n\n\n\nClick the Clear Selection  button to remove this query.\n\n\n\nAdvanced queries\nQueries can be constructed using more than one condition (or clause), allowing us to get at even more specific subsets of the data. To get at these, we need to use a Boolean expression. This is a type of logical statement that evaluates as either true or false.\n\nFor example, let’s say we know that the damage caused by earthquakes is a function of both depth and magnitude. We can find a set of shallow, high magnitude quakes using the AND operator in our expression:\ndepth, is less than, 10\nAND\nmag, is greater than, 5\nThe result should be something like this:\n\n\n\n\n\n\n\nSometimes we may want to include data from two distinct subsets within the entire dataset. In that case, we would use the OR operator. For example, let’s say from this dataset we only wanted quakes from the Pacific Ocean (which is at the far eastern and western sides of the map), we could subset using the longitude of the points: longitude is less than -60 OR longitude &gt; 120. The result should look similar to this:\n\n\n\n\n\n\n\nClick the SQL switch and it should change the appearance of the window:\n\n\n\n\n\n\n\nThe SQL query can be useful when we want to use more complex conditions. For example, if we want a subset of only Pacific Ocean earthquakes with a magnitude of 5 or greater, we can use both AND and OR. First, we contain the OR statement in parentheses (), which ensures that we do the OR operation first to get the Pacific Ocean earthquakes. To this we add an AND statement about the magnitude of those earthquakes: (longitude &lt; -60 OR longitude &gt; 120) AND mag &gt; 5. This should look something like this:\n\n\n\n\n\n\n\nSwitch back to the standard query builder and click X on each of the clauses to remove them.\nCreate a new query and select magType. This attribute tells us which magnitude scale was used to measure the earthquake, and shows that there are four categories:\n\n‘mb’: body-wave magnitude\n‘ml’: local magnitude\n‘mwr’: surface-wave magnitude\n‘mmw’: moment magnitude\n\nThe body-wave magnitude method is not a very reliable indicator for larger earthquakes, so if we only wanted larger earthquakes that weren’t measured using this method, we could use the following expression:\nmag is greater than 5\nAND\nmagType does not contain the value(s) mb\n\n\n\n\n\n\n\nFinally, we can also use this tool to select attributes that contain some portion of a text string. For example, let’s say we wanted to get all of the quakes near Japan. There is a place attribute, but it usually contains more than just the country:\n\n\n\n\n\n\n\nWhat we’d like to do is select all of the features that have the word “Japan” in the place attribute. We can use the operator contains on this attribute to look for instances where the word Japan occurs. So the query would be place contains the text Japan. This should turn up the following map:\n\n\n\n\n\n\n\nWe may want to convert any of these queries into a new dataset. To do this, right-click on the quakes layer in the table of contents while the Japanese earthquakes are selected and click Data, then Export Features. You should see something like this:\n\n\n\n\n\n\n\nNote that at the top of the window under Input Features it says The input has a selection, which means that it will only export those features that are currently selected. For the Output Feature Class, navigate to the Lab2.gdb geodatabase and save the feature as japan_quakes. Click OK. The feature is now saved in the database.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Asking questions with attributes</span>"
    ]
  },
  {
    "objectID": "workingWithOverlays.html",
    "href": "workingWithOverlays.html",
    "title": "2  Asking questions using spatial relationships",
    "section": "",
    "text": "Sometimes our questions may involve the spatial relationships between feature classes. For example, we might want to know how many parks there are within a 2 mile radius of high density housing units, or which streams in a catchment are within 50 meters of a road that is salted in wintertime. These involve evaluating the spatial relationships between objects. There are a number of tools we might use to answer questions like this. We’ll look at one of these here: the Buffer tool.\n\nEvaluating distance relationships\n\nAdd the rc_scalds dataset from the Lab2b.gdb geodatabase. This is a scald:\n\n\n\n\n\n\n\nScalds are erosive features in the Australian rangelands where surface sediments have been removed by wind and water to expose subsurface layers that have been cemented with leeched silica. These are resistant to moisture absorption or vegetation growth and create problems for wildlife and pasture management. Here’s what the dataset looks like:\n\n\n\n\n\n\n\nIn this case, scalds were surveyed within a drainage basin near a lake. A point was recorded from the middle of each scald, and various attributes are associated with each point. The attributes in the attribute table include ID number, easting, northing, Z (elevation), length, width, and area.\nLet’s say we want to know whether proximity to a stream is a good indicator of scald formation. Add the rc_streams dataset from the Lab2b.gdb geodatabase. This is a map of the stream network within the Rutherfords Creek catchment, which drains into Peery Lake:\n\n\n\n\n\n\n\nGo to the View ribbon and click on Geoprocessing. This brings up a pane with the various toolboxes for analyzing spatial data in ArcGIS. Click on Toolboxes at the top of this pane, and expand the Analysis tools. Here you’ll find a range of tools that can be used for evaluating spatial relationships.\nNext, expand the Proximity menu. Under this heading, you should see the Buffer tool. This tool is used to create a polygon feature at a given distance around another feature. It can be used to help us understand how many features of one kind are within a given distance from another.\nUse the stream_network layer as the Input Feature, and save the output to the same geodatabase as stream_50m. For the Linear unit, use 50 meters. Beneath this are a number of drop-down menus that determine whether the buffer will be on only one side, whether the ends will be rounded or squared, whether the distance measurement will be planar or geodesic (based on a flat or curved surface), and whether overlapping buffer polygons will be dissolved or not. In this case, we can leave all of these as defaults except for Dissolve Type, which should be set to Dissolve All Output to a Single Feature. Click OK to generate the buffer. In the end, it should look like this (uncheck the original stream_network in the Table of Contents for a clearer view):\n\n\n\n\n\n\n\nThis now shows us all the area within 50 meters of a stream. To see how this compares to other distances, we could repeat this process over and over at different distances and then compare them, but that would be a pain. It would also be a little problematic, since each successive buffer would include the area before it. One way to speed this process up and make it a little more streamlined is to use the Multiple Ring Buffer tool. This is an example of geoprocessing, where a series of tools is linked together in an operation to produce a desired outcome. Here, the Multiple Ring Buffer tool creates a series of buffers at set distances, but then erases the areas that are covered by smaller buffers.\nIn the Analysis toolbox and the Proximity toolset, open the Multiple Ring Buffer tool. For the Input Features, choose stream_network. Save this to the geodatabase as a new feature class called stream_buffers. For Distances, enter 50 and then push the add (+) button. Do this again for 100, 150, and 200. Make sure the Distance Unit is set to Meters and set the Dissolve Option to non-overlapping. The Field Name is the name of the attribute field where the distance for each buffer polygon in the feature class will be stored. Click Run.\n\n\n\n\n\n\n\nThe outcome of this operation should look like this (zoom in for a clearer view):",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Asking questions using spatial relationships</span>"
    ]
  },
  {
    "objectID": "workingWithJoins.html",
    "href": "workingWithJoins.html",
    "title": "3  Connecting spatial data",
    "section": "",
    "text": "Sometimes, the information you need may be stored in more than one dataset, and finding the answer may require combining the two. For example, you might want to determine whether a given neighborhood has more reports of downed powerlines, but the reports of downed lines only has coordinates, while neighborhood boundaries are stored in another dataset. ArcGIS lets us do this by joining or relating the underlying attribute tables in various ways. Here, we’ll look at how to do this using spatial joining.\n\nConnecting data with Spatial Joins\n\nTo answer our question about scalds and streams, we’ll want to know how many scalds are in each distance buffer. We can get at this with a Spatial Join. A join is an operation that connects two different datasets together by a shared element. One type of join is an attribute join, which will join two tables based on a shared attribute value (for example, an ID number, or a county name). A spatial join, on the other hand, will join two tables of spatial data by evaluating the spatial relationships between them (for example, whether they overlap).\nRight click on the stream_buffers layer, go to Joins and Relates, and start a spatial join using the drop-down menu at the top of the Join Data window. Join stream_buffers to the rc_scald data, which will automatically add a field that counts the scalds in each distance buffer to the stream_buffers layer. Tick the Keep All Target Features box, which will ensure that the results don’t exclude buffers where there is no overlap. Click OK.\nOpen the attribute table for stream_buffers. There is now a Join_Count heading which tells us how many scalds are found within a given distance.\n\n\n\n\n\n\n\nWe now have an answer to our question: there are generally there are more scalds near the streams: approximately twice as many in the 50 and 100m buffers than there are in the 150 and 200m buffers.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Connecting spatial data</span>"
    ]
  }
]